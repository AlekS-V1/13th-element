{"version":3,"file":"index.js","sources":["../src/js/order_modal.js","../src/js/faq_section.js","../src/js/feedback_section.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'loaders.css/loaders.min.css';\n\nconst backdrop = document.getElementById('orderModalBackdrop');  // Фон модального вікна\nconst closeBtn = document.getElementById('orderModalCloseBtn');  // Кнопка закриття модалки\nconst orderForm = document.getElementById('orderForm');          // Форма замовлення\n\nlet modelId = null;              \nconst COLOR = '#1212ca';          \n\nconst loader = document.getElementById('loader'); // лоадер\n\n// Відкрити форму замовлення з id моделі\nfunction openOrderFormWithModel(id) {\n  modelId = id;                   \n\n  backdrop.classList.remove('is-hidden'); \n  document.body.classList.add('no-scroll'); \n  orderForm.reset();                      \n  clearAllErrors();                     \n  orderForm.elements.email.focus();     \n}\n\n// Закрити модальне вікно\nfunction closeOrderModal() {\n  backdrop.classList.add('is-hidden');    \n  document.body.classList.remove('no-scroll');  \n  orderForm.reset();                       \n  clearAllErrors();                       \n}\n\ncloseBtn.addEventListener('click', closeOrderModal);\n\n// Закриття модалки при кліку поза формою\nbackdrop.addEventListener('click', e => {\n  if (e.target === backdrop) closeOrderModal();\n});\n\n// Закриття модалки при натисканні Escape\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && !backdrop.classList.contains('is-hidden')) {\n    closeOrderModal();\n  }\n});\n\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\n// Обробка відправки форми\norderForm.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const emailInput = orderForm.elements.email;\n  const phoneInput = orderForm.elements.tel;\n  const commentInput = orderForm.elements.comment;\n\n  const email = emailInput.value.trim();\n  const phone = phoneInput.value.trim();\n  const comment = commentInput.value.trim();\n\n  clearAllErrors();\n\n  let hasError = false;\n\n  if (!email) {\n    showError(emailInput, 'Поле Email обов’язкове');\n    hasError = true;\n  }\n\n  if (!phone) {\n    showError(phoneInput, 'Поле Телефон обов’язкове');\n    hasError = true;\n  }\n\n  if (hasError) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Заповніть всі обов’язкові поля.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  showLoader();\n\n  const requestBody = {\n    email,\n    phone,\n    modelId,\n    color: COLOR,\n    comment,\n  };\n\n  const submitBtn = orderForm.querySelector('button[type=\"submit\"]');\n  submitBtn.disabled = true;\n  submitBtn.textContent = 'Надсилання...';\n  submitBtn.style.cursor = 'wait';\n\n  try {\n    const response = await fetch('https://furniture-store.b.goit.study/api/orders', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(requestBody),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || 'Не вдалося надіслати заявку');\n    }\n\n    iziToast.success({\n      title: 'Готово',\n      message: 'Заявка успішно надіслана!',\n      position: 'topRight',\n    });\n\n    closeOrderModal();\n  } catch (err) {\n    iziToast.error({\n      title: 'Помилка',\n      message: err.message,\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader();\n    submitBtn.disabled = false;\n    submitBtn.textContent = 'Надіслати заявку';\n    submitBtn.style.cursor = 'pointer';\n  }\n});\n\n// Показати помилку під полем\nfunction showError(input, message) {\n  input.classList.add('input-error');\n\n  let error = input.nextElementSibling;\n  if (error && error.classList.contains('error-message')) {\n    error.textContent = message;\n    return;\n  }\n\n  error = document.createElement('div');\n  error.className = 'error-message';\n  error.textContent = message;\n  input.insertAdjacentElement('afterend', error);\n}\n\nfunction clearError(input) {\n  input.classList.remove('input-error');\n\n  const error = input.nextElementSibling;\n  if (error && error.classList.contains('error-message')) {\n    error.remove();\n  }\n}\n\nfunction clearAllErrors() {\n  clearError(orderForm.elements.email);\n  clearError(orderForm.elements.tel);\n}\n","\nimport Accordion from \"accordion-js\";\n \n\nnew Accordion('.accordion-container', {\n   duration: 400,\n  triggerClass: 'ac-trigger',\n  panelClass: 'ac-panel',\n  activeClass: 'is-active',  \n  showMultiple: false,  \n});","import axios from 'axios';\n\nimport 'loaders.css/loaders.min.css';\n\nimport Swiper from 'swiper';\nimport { Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport 'css-star-rating/css/star-rating.min.css';\n\n// === DOM Elements ===\nconst feedbackContainer = document.querySelector('.feedback-list');\nconst loader = document.querySelector('.loader');\nconst leftButton = document.querySelector('.feedback-btn-left');\nconst rightButton = document.querySelector('.feedback-btn-right');\nconst navWrap = document.querySelector('.feedback-pagination-btn-wrap');\n\n// === Global state ===\nlet swiper;\nlet eventsBound = false;\n\n// === API ===\nasync function getFeedback() {\n  const FEEDBACK_URL = 'https://furniture-store.b.goit.study/api/feedbacks';\n  const PARAMS = new URLSearchParams({\n    page: 1,\n    limit: 10,\n  });\n  const res = await axios(`${FEEDBACK_URL}?${PARAMS}`);\n  return res.data;\n}\n\n// === UI Feedback ===\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\nfunction onError(message) {\n  iziToast.error({\n    message: message,\n    backgroundColor: '#ef4040',\n    messageColor: '#fff',\n    position: 'topRight',\n  });\n}\n\nfunction updateNavButtons() {\n  const isFirst = swiper.isBeginning;\n  const isLast = swiper.isEnd;\n\n  leftButton.disabled = isFirst;\n  rightButton.disabled = isLast;\n}\n\n// === Create Star Rating ===\n\n\nfunction createStarRating(rate) {\n  const roundedRate = Math.round(rate * 2) / 2;\n  const fullStars = Math.floor(roundedRate);\n  const hasHalf = roundedRate % 1 !== 0;\n\n  const starFilled = `\n    <svg class=\"star-icon\" id=\"star-filled\" viewBox=\"0 0 34 32\" >\n            <title>star-filled</title>\n            <path class=\"path-star-filled\"\n                  d=\"M16.941 25.621l10.179 6.144-2.701-11.579 8.993-7.791-11.842-1.005-4.628-10.92-4.628 10.92-11.842 1.005 8.993 7.791-2.701 11.579z\" fill=\"#000000\"/>\n    </svg>\n  `;\n  const starHalf = `\n    <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n  <defs>\n    <clipPath id=\"left-half\">\n      <rect x=\"0\" y=\"0\" width=\"12\" height=\"24\" />\n    </clipPath>\n    <clipPath id=\"right-half\">\n      <rect x=\"12\" y=\"0\" width=\"12\" height=\"24\" />\n    </clipPath>\n  </defs>\n\n  <!-- Ліва половина — заповнена -->\n  <path\n    d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 \n       9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"\n    fill=\"#000000\"\n    stroke=\"#000000\"\n    stroke-width=\"2\"\n    clip-path=\"url(#left-half)\"\n  />\n\n  <!-- Права половина — тільки контур -->\n  <path\n    d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 \n       9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"\n    fill=\"none\"\n    stroke=\"#000000\"\n    stroke-width=\"2\"\n    clip-path=\"url(#right-half)\"\n  />\n</svg>\n  `;\n\n  const starEmpty = `\n    <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n  <path\n    d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 \n       9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"\n    fill=\"none\"\n    stroke=\"#000000\"\n    stroke-width=\"2\"\n  />\n</svg>\n  `;\n\n  let starsMarkup = '';\n\n  for (let i = 0; i < 5; i++) {\n    if (i < fullStars) {\n      starsMarkup += `<div class=\"star\">${starFilled}</div>`;\n    } else if (i === fullStars && hasHalf) {\n      starsMarkup += `<div class=\"star\">${starHalf}</div>`;\n    } else {\n      starsMarkup += `<div class=\"star\">${starEmpty}</div>`;\n    }\n  }\n\n  return `\n    <div class=\"rating rating-static rating-small star-icon\">\n      <div class=\"star-container\">\n        ${starsMarkup}\n      </div>\n    </div>\n  `;\n}\n\n// === Create HTML Markup ===\n\nfunction createFeedbackMarkup(arr) {\n  return arr\n    .map(\n      ({ descr, name, rate }) => `\n      <div class=\"feedback-card swiper-slide\">\n        ${createStarRating(rate)}\n        <p class=\"feedback-text feedback-opinion\">\"${descr}\"</p>\n        <p class=\"feedback-text feedback-user\">${name}</p>\n      </div>\n    `\n    )\n    .join('');\n}\n\n// === Main Render Function ===\nasync function renderFeedback() {\n  showLoader();\n\n  try {\n    const data = await getFeedback();\n    const markup = createFeedbackMarkup(data.feedbacks);\n\n    feedbackContainer.insertAdjacentHTML('beforeend', markup);\n\n    // Ініціалізуємо swiper після рендеру\n\n    if (!swiper) {\n      swiper = new Swiper('.swiper', {\n        modules: [Pagination],\n        direction: 'horizontal',\n        loop: false,\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        pagination: {\n          el: '.swiper-pagination',\n          clickable: true,\n          type: 'bullets',\n        },\n        breakpoints: {\n          768: {\n            slidesPerView: 2,\n            slidesPerGroup: 1,\n          },\n          1440: {\n            slidesPerView: 3,\n            slidesPerGroup: 1,\n          },\n        },\n        on: {\n          slideChange: updateNavButtons,\n        },\n      });\n      updateNavButtons();\n    }\n\n    // Перевірка, щоб не дублювати слухачі\n\n    if (!eventsBound) {\n      leftButton.addEventListener('click', () => swiper.slidePrev());\n      rightButton.addEventListener('click', () => swiper.slideNext());\n      eventsBound = true;\n    }\n\n    navWrap.classList.remove('hidden');\n  } catch (error) {\n    onError('Failed to fetch data from API.');\n  } finally {\n    hideLoader();\n  }\n}\n\nrenderFeedback();\n"],"names":["backdrop","closeBtn","orderForm","modelId","COLOR","loader","closeOrderModal","clearAllErrors","showLoader","hideLoader","emailInput","phoneInput","commentInput","email","phone","comment","hasError","showError","iziToast","requestBody","submitBtn","response","errorData","err","input","message","error","clearError","Accordion","feedbackContainer","leftButton","rightButton","navWrap","swiper","eventsBound","getFeedback","FEEDBACK_URL","PARAMS","axios","onError","updateNavButtons","isFirst","isLast","createStarRating","rate","roundedRate","fullStars","hasHalf","starFilled","starHalf","starEmpty","starsMarkup","i","createFeedbackMarkup","arr","descr","name","renderFeedback","data","markup","Swiper","Pagination"],"mappings":"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"}