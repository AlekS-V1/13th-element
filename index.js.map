{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/img/furniture-img/stylish.jpg","../src/img/furniture-img/modern.jpg","../src/img/furniture-img/sleek.jpg","../src/img/furniture-img/queen.jpg","../src/img/furniture-img/oak.jpg","../src/img/furniture-img/set.jpg","../src/img/furniture-img/kitchen.jpg","../src/img/furniture-img/bright.jpg","../src/img/furniture-img/home.jpg","../src/img/furniture-img/entryway.jpg","../src/img/furniture-img/contemporary.jpg","../src/img/furniture-img/cozy.jpg","../src/img/furniture-img/curated.jpg","../src/img/sprite.svg","../src/js/furniture_details_modal.js","../src/js/furniture.js","../src/js/order_modal.js","../src/js/faq_section.js","../src/js/feedback_section.js"],"sourcesContent":["\nconst burgerBtn = document.querySelector(\".burger-btn\");\nconst burgerMenu = document.getElementById(\"burgerMenu\");\nconst closeBtn = document.querySelector(\".nav-close-btn\");\nconst scrollBtn = document.getElementById(\"scrollBtn\");\nconst scrollBtnMob = document.getElementById(\"scrollBtnMob\");\n\n// Відкриття меню\nburgerBtn.addEventListener(\"click\", toggleBurgerMenu);\n\n// Закриття меню\ncloseBtn.addEventListener(\"click\", closeMenu);\n\n// Закриття по Escape\ndocument.addEventListener(\"keydown\", e => {\n  if (e.key === \"Escape\") closeMenu();\n});\n\n// Закриття при кліку поза меню\ndocument.addEventListener(\"click\", e => {\n  if (!burgerMenu.contains(e.target) && !burgerBtn.contains(e.target)) {\n    closeMenu();\n  }\n});\n\n// Функція відкриття/закриття меню\nfunction toggleBurgerMenu() {\n  burgerMenu.classList.toggle(\"active\");\n  burgerMenu.classList.toggle(\"hidden\");\n  document.body.classList.toggle(\"lock-scroll\");\n}\n\n// Функція закриття меню\nfunction closeMenu() {\n  burgerMenu.classList.remove(\"active\");\n  burgerMenu.classList.add(\"hidden\");\n  document.body.classList.remove(\"lock-scroll\");\n}\n\n// Плавний скрол до секції\nscrollBtn.addEventListener(\"click\", () => {\n  const section = document.getElementById(\"furniture\");\n  if (section) {\n    section.scrollIntoView({ behavior: \"smooth\" });\n    closeMenu();\n  }\n});\nscrollBtnMob.addEventListener(\"click\", () => {\n  const section = document.getElementById(\"furniture\");\n  if (section) {\n    section.scrollIntoView({ behavior: \"smooth\" });\n    closeMenu();\n  }\n});\n\n// Плавний скрол для всіх посилань\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(link => {\n  link.addEventListener(\"click\", e => {\n    e.preventDefault();\n    const target = document.querySelector(link.getAttribute(\"href\"));\n    if (target) {\n      target.scrollIntoView({ behavior: \"smooth\" });\n      closeMenu();\n    }\n  });\n});\n\nburgerBtn.addEventListener(\"click\", () => {\n  burgerMenu.classList.remove(\"hidden\");\n});\n\ncloseBtn.addEventListener(\"click\", () => {\n  burgerMenu.classList.add(\"hidden\");\n});\n","export default \"__VITE_ASSET__BV_A3KC8__\"","export default \"__VITE_ASSET__CjkNflfw__\"","export default \"__VITE_ASSET__bXW4Adt9__\"","export default \"__VITE_ASSET__ByRFlcDW__\"","export default \"__VITE_ASSET__BZvhqJDg__\"","export default \"__VITE_ASSET__FL0KpNz6__\"","export default \"__VITE_ASSET__D7IRIZKt__\"","export default \"__VITE_ASSET__B2SlTX5$__\"","export default \"__VITE_ASSET__MiBSFEoD__\"","export default \"__VITE_ASSET__fSgLmlKV__\"","export default \"__VITE_ASSET__BGhe10eB__\"","export default \"__VITE_ASSET__MYlrY$ip__\"","export default \"__VITE_ASSET__CRdIekIK__\"","export default \"__VITE_ASSET__B75pjiaY__\"","// window.addEventListener('load', () => {\n//   fetchFurnitureAndRenderModal();\n//   setupDetailsButtons();\n  \n\n//   const closeBtn = document.querySelector('.close-btn');\n//   if (closeBtn) {\n//     closeBtn.addEventListener('click', closeModal);\n//   } else {\n//     console.warn('Кнопка .close-btn не знайдена');\n//   }\n// });\n\n// import StarRating from 'css-star-rating';\n// new StarRating(document.querySelector('.modal-rating'));\nimport spritePath from \"../img/sprite.svg\";\n\nimport 'css-star-rating/css/star-rating.min.css';\n\nwindow.addEventListener('load', () => {\n  fetchFurnitureAndRenderModal();\n  const closeBtn = document.querySelector('.close-btn');\n  if (closeBtn) {\n    closeBtn.addEventListener('click', closeModal);\n  }\n});\n\n\n\n\n\n// document.querySelector('.close-btn').addEventListener('click', closeModal);\n\nlet allFurnitures = [];\nlet selectedFurniture = null;\n\n\nexport function closeModal() {\n  //document.getElementById('modal').style.display = 'none';\n  // document.getElementById('orderModalCloseBtn')?.addEventListener('click', () => {\n  document.getElementById('modal').classList.add('is-hidden');\n  document.body.classList.remove('modal-open');\n// });\n\n}\n\nfunction openModal() {\n  //document.getElementById('modal').style.display = 'flex';\n  document.body.classList.add('modal-open');\n}\ndocument.querySelector('.order-btn')?.addEventListener('click', openOrderForm);\n\nfunction openOrderForm() {\n  let email = document.querySelector('[name=\"email\"]').value;\n  let phone = document.querySelector('[name=\"tel\"]').value;\n  let comment = document.querySelector('[name=\"comment\"]').value;\n  closeModal(); // закриває попереднє модальне вікно\n  const backdrop = document.getElementById('orderModalBackdrop');\n  if (backdrop) {\n    backdrop.classList.remove('is-hidden');\n    document.body.classList.add('modal-open');\n  } else {\n    console.warn('Backdrop модального вікна замовлення не знайдено');\n  }\n  const requestBody = {\n  email,\n  phone: phone.replace(/\\D/g, ''),\n  modelId: selectedFurniture?._id,\n  color: selectedFurniture?.color?.[0] || '#000000',\n  comment,\n};\n\n}\n\n\nasync function fetchFurnitureAndRenderModal() {\n  try {\n    const response = await fetch('https://furniture-store.b.goit.study/api/furnitures');\n    const data = await response.json();\n    allFurnitures = data.furnitures;\n\n    const firstFurniture = allFurnitures[0];\n    renderFurnitureDetails(firstFurniture);\n    renderColorFilters(firstFurniture);\n  //  openModal();\n  } catch (error) {\n    console.error('Помилка при отриманні меблів:', error);\n  }\n}\n\nfunction setupDetailsButtons() {\n  document.querySelectorAll('.details-btn').forEach(btn => {\n    btn.addEventListener('click', () => {\n      const id = btn.dataset.id;\n      const furniture = allFurnitures.find(item => item.id === id);\n      if (furniture) {\n        renderFurnitureDetails(furniture);\n        document.getElementById('modal').classList.remove('is-hidden');\n        document.body.classList.add('modal-open');\n      } else {\n        console.warn('Меблі з таким ID не знайдено:', id);\n      }\n    });\n  });\n}\n\n// function createStarRating(rate) {\n//   const roundedRate = Math.round(rate * 2) / 2;\n//   const valueClass = `value-${Math.floor(roundedRate)}`;\n//   const halfClass = roundedRate % 1 !== 0 ? 'half' : '';\n  \n//   return `\n//     <div class=\"modal-rating rating-small rating-static ${valueClass} ${halfClass} star-svg\">\n//       <div class=\"modal-star-container\">\n//         ${[...Array(5)].map(() =>\n//           `<div class=\"modal-star star-svg\">\n//             <svg class=\"star-empty\"><use xlink:href=\"${spritePath}#star-empty\"></use></svg>\n//             <svg class=\"star-half\"><use xlink:href=\"${spritePath}#star-half\"></use></svg>\n//             <svg class=\"star-filled\"><use xlink:href=\"${spritePath}#star-filled\"></use></svg>\n//           </div>\n//         `).join('')}\n//       </div>\n//     </div>\n//   `;\n// }\n\n\nfunction createStarRatingSvg(rate) {\n  const maxStars = 5;\n  const roundedRate = Math.round(rate * 2) / 2;\n\n  let starsHtml = '';\n\n  for (let i = 1; i <= maxStars; i++) {\n    if (roundedRate >= i) {\n      starsHtml += `\n        <div class=\"modal-star star-svg\">\n          <svg class=\"star-filled\"><use xlink:href=\"${spritePath}#star-filled\"></use></svg>\n        </div>`;\n    } else if (roundedRate + 0.5 === i) {\n      starsHtml += `\n        <div class=\"modal-star star-svg\">\n          <svg class=\"star-half\"><use xlink:href=\"${spritePath}#star-half\"></use></svg>\n        </div>`;\n    } else {\n      starsHtml += `\n        <div class=\"modal-star star-svg\">\n          <svg class=\"star-empty\"><use xlink:href=\"${spritePath}#star-empty\"></use></svg>\n        </div>`;\n    }\n  }\n\n  return `\n    <div class=\"rating-star rating-small rating-static star-svg\">\n      <div class=\"star-container\">\n        ${starsHtml}\n      </div>\n    </div>\n  `;\n}\n\n\nexport function renderFurnitureDetails(furniture) {\n  document.querySelector('.order-btn').dataset.id = furniture.id;\n  document.querySelector('.model-name').textContent = furniture.name;\n  document.querySelector('.model-name').classList.add('highlight-name');\n\n  document.querySelector('.category').textContent = furniture.type;\n  document.querySelector('.category').classList.add('highlight-type');\n\n  document.querySelector('.modal-price').textContent = `${furniture.price} грн`;\n  document.querySelector('.modal-price').classList.add('price-style');\n\n  // document.querySelector('.modal-rating').textContent = createStarRating(furniture.rate);\n\n//   const ratingEl = document.querySelector('.modal-rating');\n// if (ratingEl) {\n//   ratingEl.innerHTML = createStarRating(furniture.rate);\n//   ratingEl.classList.add('rating-style');\n// } else {\n//   console.warn('Елемент .modal-rating не знайдено');\n  // }\n  const ratingEl = document.querySelector('.modal-rating');\nif (ratingEl) {\n  ratingEl.innerHTML = createStarRatingSvg(furniture.rate);\n}\n\n\n  document.querySelector('.modal-rating').classList.add('rating-style');\n\n  document.querySelector('.description').textContent = furniture.description;\n  document.querySelector('.description').classList.add('description-style');\n\n  document.querySelector('.dimensions').textContent = `Розміри: ${furniture.sizes}`;\n  document.querySelector('.dimensions').classList.add('dimensions-style');\n  \n\n  const mainImage = document.querySelector('.main-image');\n  if (Array.isArray(furniture.images) && furniture.images.length > 0) {\n  mainImage.src = furniture.images[0];\n  mainImage.alt = furniture.name;\n} else {\n  mainImage.src = 'default.jpg'; // або інше резервне зображення\n  mainImage.alt = 'Зображення недоступне';\n}\n\n  // mainImage.src = furniture.images[0];\n  // mainImage.alt = furniture.name;\n\n  const thumbsContainer = document.querySelector('.thumbs');\n  thumbsContainer.innerHTML = '';\n\n  if (Array.isArray(furniture.images) && furniture.images.length > 1) {\n  furniture.images.slice(1).forEach((imgUrl, index) => {\n    const img = document.createElement('img');\n    img.src = imgUrl;\n    img.alt = `${furniture.name} view ${index + 2}`;\n    img.classList.add('thumb-image');\n    thumbsContainer.appendChild(img);\n  });\n}\n\n  if (!Array.isArray(furniture.images) || furniture.images.length === 0) {\n  mainImage.src = 'default.jpg'; // \n  mainImage.alt = 'Зображення недоступне';\n}\n\n  // furniture.images.slice(1).forEach((imgUrl, index) => {\n  //   const img = document.createElement('img');\n  //   img.src = imgUrl;\n  //   img.alt = `${furniture.name} view ${index + 2}`;\n  //   img.classList.add('thumb-image');\n  //   thumbsContainer.appendChild(img);\n  // });\n\n  renderColorFilters(furniture); // оновлюємо кольори при зміні товару\n  selectedFurniture = furniture; // збережемо товар\n\n}\n\nfunction renderColorFilters(furniture) {\n  const container = document.getElementById('color-filters');\n  container.innerHTML = '';\n\nif (Array.isArray(furniture.color)) {\n  furniture.color.forEach(color => {\n    const label = document.createElement('label');\n    label.innerHTML = `\n      <input type=\"checkbox\" value=\"${color}\" class=\"color-checkbox\" onchange=\"filterByColor()\" />\n      <span class=\"color-circle\" style=\"background:${color};\"></span>\n    `;\n    container.appendChild(label);\n  });\n} else {\n  console.warn('Поле color відсутнє або не є масивом:', furniture);\n}\n\n  // furniture.color.forEach(color => {\n  //   const label = document.createElement('label');\n  //   label.innerHTML = `\n  //     <input type=\"checkbox\" value=\"${color}\" class=\"color-checkbox\" onchange=\"filterByColor()\" />\n  //     <span class=\"color-circle\" style=\"background:${color};\"></span>\n  //   `;\n  //   container.appendChild(label);\n  // });\n}\n\nwindow.filterByColor = function() {\n  const checkedColors = Array.from(document.querySelectorAll('#color-filters input:checked'))\n    .map(input => input.value);\n\n  if (checkedColors.length === 0) {\n    renderFurnitureDetails(allFurnitures[0]);\n    return;\n  }\n\n  const filtered = allFurnitures.find(item =>\n    item.color.some(c => checkedColors.includes(c))\n  );\n\n  if (filtered) {\n    renderFurnitureDetails(filtered);\n  } else {\n    alert('Немає меблів з таким кольором');\n  }\n}\n","import 'loaders.css/loaders.min.css';\nimport stylish from '../img/furniture-img/stylish.jpg';\nimport modern from '../img/furniture-img/modern.jpg';\nimport sleek from '../img/furniture-img/sleek.jpg';\nimport queen from '../img/furniture-img/queen.jpg';\nimport oak from '../img/furniture-img/oak.jpg';\nimport set from '../img/furniture-img/set.jpg';\nimport kitchen from '../img/furniture-img/kitchen.jpg';\nimport bright from '../img/furniture-img/bright.jpg';\nimport home from '../img/furniture-img/home.jpg';\nimport entryway from '../img/furniture-img/entryway.jpg';\nimport contemporary from '../img/furniture-img/contemporary.jpg';\nimport cozy from '../img/furniture-img/cozy.jpg';\nimport curated from '../img/furniture-img/curated.jpg';\n\nimport { renderFurnitureDetails, closeModal } from './furniture_details_modal.js'; // \nlet furnitureData = [];\nconst loader = document.querySelector('.loader');\nconst loadMoreBtn = document.querySelector('.load-more-btn');\nconst categoriesContainer = document.querySelector('.categories-filter');\nconst furnitureList = document.querySelector('.furniture-list');\nfunction showLoader() {\n    loader.classList.remove('hidden');\n    loadMoreBtn.classList.add('hidden');\n    loadMoreBtn.disabled = true;\n}\n\nfunction hideLoader() {\n    loader.classList.add('hidden');\n    loadMoreBtn.classList.remove('hidden');\n    loadMoreBtn.disabled = false;\n}\nconst API_BASE = 'https://furniture-store.b.goit.study/api';\nlet allProducts = [];\nlet visibleProducts = [];\nlet currentCategoryId = null;\nlet perPage = 8;\nlet allCategories = [];\nasync function fetchCategories() {\n  try {\n    showLoader();\n    const res = await fetch(`${API_BASE}/categories`);\n    if (!res.ok) throw new Error(`HTTP error! Status: ${res.status}`);\n    const data = await res.json();\n    allCategories = data;\n    renderCategories(data);\n  } catch (error) {\n    console.error('Помилка завантаження категорій', error);\n  } finally {\n    hideLoader();\n  }   \n}\nfunction renderCategories(categories) {\n  categoriesContainer.innerHTML = '';\n  const categoryImg = {\n  \"Всі товари\": stylish,\n  \"М'які меблі\": modern,\n  \"Шафи та системи зберігання\": sleek,\n  \"Ліжка та матраци\": queen,\n  \"Столи\": oak,\n  \"Стільці та табурети\": set,\n  \"Кухні\": kitchen,\n  \"Меблі для дитячої\": bright,\n  \"Меблі для офісу\": home,\n  \"Меблі для передпокою\": entryway,\n  \"Меблі для ванної кімнати\": contemporary,\n  \"Садові та вуличні меблі\": cozy,\n  \"Декор та аксесуари\": curated,\n};\n  const allBtn = document.createElement('li');\n  allBtn.classList.add('category-button');\n  allBtn.dataset.categoryId = '';\n  allBtn.innerHTML = `\n    <img src=\"${categoryImg['Всі товари']}\" alt=\"Всі товари\" />\n    <span>Всі товари</span>\n  `;\n  allBtn.classList.add('active');\n  allBtn.addEventListener('click', () => handleCategoryClick(''));\n  categoriesContainer.appendChild(allBtn);\n  categories.forEach(category => {\n  const btn = document.createElement('li');\n  btn.classList.add('category-button');\n  btn.dataset.categoryId = category._id;\n  const imgSrc = categoryImg[category.name];\n  btn.innerHTML = `\n    <img src=\"${imgSrc}\" alt=\"${category.name}\" />\n    <span>${category.name}</span>\n  `;\n  btn.addEventListener('click', () => handleCategoryClick(category._id));\n  categoriesContainer.appendChild(btn);\n});\n}\nfunction handleCategoryClick(categoryId) {\n  currentCategoryId = categoryId || null;\n  visibleProducts = [];\n  const buttons = categoriesContainer.querySelectorAll('li');\n  buttons.forEach(btn => {\n    if (btn.dataset.categoryId === String(categoryId)) {\n      btn.classList.add('active');\n    } else {\n      btn.classList.remove('active');\n    }\n  });\n    showLoader();\n    setTimeout(() => {\n    showFilteredProducts();\n    hideLoader();\n}, 300);\n}\nasync function fetchProducts() {\n  try {\n    showLoader();\n    const perPage = 10;\n    let page = 1;\n    let allFetched = [];\n    let totalPages = 8;\n    do {\n      const res = await fetch(`${API_BASE}/furnitures?page=${page}&limit=${perPage}`);\n      const data = await res.json();\n      if (!Array.isArray(data.furnitures)) throw new Error('Неправильна відповідь API');\n      allFetched = allFetched.concat(data.furnitures);\n      if (page === 8 && data.total) {\n        totalPages = Math.ceil(data.total / perPage);\n      }\n      page++;\n    } while (page <= totalPages);\n    allProducts = allFetched;\n    showFilteredProducts();\n  } catch (error) {\n    console.error('Помилка завантаження товарів:', error);\n  } finally {\n    hideLoader();\n  }\n}\nfunction showFilteredProducts() {\n  furnitureList.innerHTML = '';\n  visibleProducts = [];\n  if (!Array.isArray(allProducts)) {\n    console.error('Дані не є масивом:', allProducts);\n    furnitureList.innerHTML = 'Помилка завантаження';\n    loadMoreBtn.style.display = 'none';\n    return;\n  }\n  const filtered = currentCategoryId\n    ? allProducts.filter(p => String(p.category?._id) === String(currentCategoryId))\n    : allProducts;\n  if (filtered.length === 0) {\n    furnitureList.innerHTML = 'Товарів не знайдено';\n    loadMoreBtn.style.display = 'none';\n    return;\n  }\n  loadMoreBtn.style.display = 'block';\n  loadNextBatch(filtered);\n}\nfunction loadNextBatch(filteredList) {\n    const nextProducts = filteredList.slice(visibleProducts.length, visibleProducts.length + perPage);\n    visibleProducts = visibleProducts.concat(nextProducts);\n    nextProducts.forEach(product => {\n        const li = document.createElement('li');\n        li.classList.add('furniture-card');\n      const colorCircles = (product.color || []).map(color => `\n          <span class=\"set\" style=\"background-color: ${color};\"></span>`).join('');\n        li.innerHTML = `\n            <img src=\"${product.images[0]}\" alt=\"${product.name}\" />\n            <div class=\"info\">\n                <h3 class=\"title\">${product.name}</h3>\n                <div class=\"color-container\">\n                    ${colorCircles}\n                    </div>\n                <p class=\"price\">${product.price} грн</p>\n                <button class=\"details-btn\" data-id=\"${product._id}\">Детальніше</button>\n            </div>\n        `;\n      \n      furnitureList.appendChild(li);\n      furnitureData.push({\n        id: product._id,        \n        name: product.name,\n        price: product.price,\n        sizes: product.sizes || 'Невідомо',      \n        color: product.color || [],\n        images: Array.isArray(product.images) ? product.images : [] || 'placeholder.jpg',         \n        description: product.description || 'Опис недоступний',  \n        rate: product.rate || 0,  \n        type: product.type || 'Без категорії'  \n      \n});\n\n    });\n    if (visibleProducts.length >= filteredList.length) {\n        loadMoreBtn.style.display = 'none';\n    }\n}\nloadMoreBtn.addEventListener('click', () => {\n    showLoader();\n\n    setTimeout(() => {\n  const filtered = currentCategoryId\n    ? allProducts.filter(p => p.category?._id === currentCategoryId)\n    : allProducts;\n    loadNextBatch(filtered);\n    hideLoader();\n}, 300);\n});\nfurnitureList.addEventListener('click', async (e) => {\n    if (e.target.classList.contains('details-btn')) {\n        const id = e.target.dataset.id;\n        try {\n            showLoader();\n            // const res = await fetch(`${API_BASE}/furnitures/${id}`);\n            // const product = await res.json();\n          // showModal(product);\n          const product = furnitureData.find(item => item.id === id);\n        if (product) {\n             showModal(product);\n        } else {\n              console.warn('Товар не знайдено в локальному масиві');\n        }\n        } catch (error) {\n            console.error('Помилка завантаження деталей товару', error);\n        } finally {\n            hideLoader();\n        }\n    }\n});\nfunction showModal(product) {\n  // Заповнюємо дані товару\n  // console.log(product);\n  \n  renderFurnitureDetails(product);\n\n  // Показуємо модальне вікно\n  const modal = document.getElementById('modal');\n  modal.classList.remove('is-hidden');\n  document.body.classList.add('modal-open');\n\n  // Додаємо закриття по кліку на фон\n  modal.addEventListener('click', (e) => {\n    if (e.target === modal) {\n      closeModal();\n      modal.classList.add('is-hidden');\n    }\n  });\n\n  // Додаємо закриття по кнопці\n  const closeBtn = modal.querySelector('.close-btn');\n  closeBtn.addEventListener('click', () => {\n    closeModal();\n    modal.classList.add('is-hidden');\n  });\n}\n\nfetchCategories();\nfetchProducts();\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'loaders.css/loaders.min.css';\n\nconst backdrop = document.getElementById('orderModalBackdrop'); // Фон модального вікна\nconst closeBtn = document.getElementById('orderModalCloseBtn');  // Кнопка закриття модалки\nconst orderForm = document.getElementById('orderForm');          // Форма замовлення\nconst btnSend = document.querySelector('.submit-btn');           // Кнопка Надіслати заявку\n\nlet modelId = null;              \nconst COLOR = '#1212ca';          \n\nconst loader = document.getElementById('loader'); // лоадер\n\n// Знайти всі кнопки \"Перейти до замовлення\" і додати слухачі\ndocument.querySelectorAll('.order-btn').forEach(btn => {\n  btn.addEventListener('click', () => {\n    // console.log(btn);\n    \n    const id = btn.dataset.id; \n    if (!id) {\n      iziToast.error({\n        title: 'Помилка',\n        message: 'ID моделі не знайдено.',\n        position: 'topRight',\n      });\n      return;\n    }\n    openOrderFormWithModel(id);\n  });\n});\n\n// Відкрити форму замовлення з id моделі\nfunction openOrderFormWithModel(id) {\n  modelId = String(id);                  \n  backdrop.classList.remove('is-hidden'); \n  document.body.classList.add('modal-open'); \n  orderForm.reset();                      \n  clearAllErrors();                     \n  orderForm.elements.email.focus();     \n}\n\n// Закрити модальне вікно\nfunction closeOrderModal() {\n  backdrop.classList.add('is-hidden');    \n  document.body.classList.remove('modal-open');  \n  orderForm.reset();                       \n  clearAllErrors();                       \n}\n\ncloseBtn.addEventListener('click', closeOrderModal);\n\n// Закриття модалки при кліку поза формою\nbackdrop.addEventListener('click', e => {\n  if (e.target === backdrop) closeOrderModal();\n});\n\n// Закриття модалки при натисканні Escape\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && !backdrop.classList.contains('is-hidden')) {\n    closeOrderModal();\n  }\n});\n\nfunction showLoader() {\n  btnSend.disabled = true;\n  loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  btnSend.disabled = false;\n  loader.classList.add('hidden');\n}\n\n// Обробка відправки форми\norderForm.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const emailInput = orderForm.elements.email;\n  const phoneInput = orderForm.elements.tel;\n  const commentInput = orderForm.elements.comment;\n\n  const email = emailInput.value.trim();\n  const phone = phoneInput.value.trim();\n  const comment = commentInput.value.trim();\n  const isEmailValid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n  const phoneClean = phone.replace(/\\D/g, ''); \n  const isPhoneValid = /^380\\d{9}$/.test(phoneClean);\n  clearAllErrors();\n\n  let hasError = false;\n\n  if (!email) {\n   \n    showError(emailInput, 'Поле Email обов’язкове');\n    hasError = true;\n  } else if (!isEmailValid) {\n    showError(emailInput, 'Введіть коректний Email');\n    hasError = true;\n  }\n\n  if (!phone) {\n    showError(phoneInput, 'Поле Телефон обов’язкове');\n    hasError = true;\n  } else {\n    if (!isPhoneValid) {\n      showError(phoneInput, 'Номер телефону має бути у форматі 380XXXXXXXXX або +380XXXXXXXXX');\n      hasError = true;\n    }\n  }\n  if (!modelId || modelId === 'null' || modelId.trim() === '') {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вказано товар для замовлення.',\n      position: 'topRight',\n    });\n    hideLoader();\n    return;\n  }\n  \n  if (hasError) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Заповніть всі обов’язкові поля.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n\n\n  const requestBody = {\n    email,\n    phone: phoneClean,\n    modelId: String(modelId),\n    color: COLOR,\n    comment: comment || '-----',\n  };\n\n  const submitBtn = orderForm.querySelector('button[type=\"submit\"]');\n  submitBtn.disabled = true;\n  submitBtn.textContent = 'Надсилання...';\n  submitBtn.style.cursor = 'wait';\n\n  try {\n    if (isEmailValid && isPhoneValid) {\n      showLoader();\n      const response = await fetch('https://furniture-store.b.goit.study/api/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody),\n      });\n  \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Не вдалося надіслати заявку');\n      }\n      const result = await response.json();\n  \n      iziToast.success({\n        title: 'Готово',\n        message: 'Заявка успішно надіслана!',\n        position: 'topRight',\n      });\n  \n      closeOrderModal();\n    }\n  } catch (err) {\n    iziToast.error({\n      title: 'Помилка',\n      message: err.message,\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader();\n    submitBtn.disabled = false;\n    submitBtn.textContent = 'Надіслати заявку';\n    submitBtn.style.cursor = 'pointer';\n  }\n});\n\n// Показати помилку під полем\nfunction showError(input, message) {\n  input.classList.add('input-error');\n\n  let error = input.nextElementSibling;\n  if (error && error.classList.contains('error-message')) {\n    error.textContent = message;\n    return;\n  }\n\n  error = document.createElement('div');\n  error.className = 'error-message';\n  error.textContent = message;\n  input.insertAdjacentElement('afterend', error);\n}\n\nfunction clearError(input) {\n  input.classList.remove('input-error');\n\n  const error = input.nextElementSibling;\n  if (error && error.classList.contains('error-message')) {\n    error.remove();\n  }\n}\n\nfunction clearAllErrors() {\n  clearError(orderForm.elements.email);\n  clearError(orderForm.elements.tel);\n}\n","\nimport Accordion from \"accordion-js\";\n \n\nnew Accordion('.accordion-container', {\n   duration: 400,\n  triggerClass: 'ac-trigger',\n  panelClass: 'ac-panel',\n  activeClass: 'is-active',  \n  showMultiple: false,  \n});","import axios from 'axios';\nimport spritePath from \"../img/sprite.svg\";\nimport 'loaders.css/loaders.min.css';\n\nimport Swiper from 'swiper';\nimport { Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport 'css-star-rating/css/star-rating.min.css';\n\n// === DOM Elements ===\nconst feedbackContainer = document.querySelector('.feedback-list');\nconst loader = document.querySelector('.loader');\nconst leftButton = document.querySelector('.feedback-btn-left');\nconst rightButton = document.querySelector('.feedback-btn-right');\nconst navWrap = document.querySelector('.feedback-pagination-btn-wrap');\n\n// === Global state ===\nlet swiper;\nlet eventsBound = false;\n\n// === API ===\nasync function getFeedback() {\n  const FEEDBACK_URL = 'https://furniture-store.b.goit.study/api/feedbacks';\n  const PARAMS = new URLSearchParams({\n    page: 1,\n    limit: 10,\n  });\n  const res = await axios(`${FEEDBACK_URL}?${PARAMS}`);\n  return res.data;\n}\n\n// === UI Feedback ===\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\nfunction onError(message) {\n  iziToast.error({\n    message: message,\n    backgroundColor: '#ef4040',\n    messageColor: '#fff',\n    position: 'topRight',\n  });\n}\n\nfunction updateNavButtons() {\n  const isFirst = swiper.isBeginning;\n  const isLast = swiper.isEnd;\n\n  leftButton.disabled = isFirst;\n  rightButton.disabled = isLast;\n}\n\n// === Create Star Rating ===\n\n\nfunction createStarRating(rate) {\n  const roundedRate = Math.round(rate * 2) / 2;\n  const valueClass = `value-${Math.floor(roundedRate)}`;\n  const halfClass = roundedRate % 1 !== 0 ? 'half' : '';\n  \n  return `\n    <div class=\"rating rating-small rating-static ${valueClass} ${halfClass} star-svg\">\n      <div class=\"star-container\">\n        ${[...Array(5)].map(() => `\n          <div class=\"star star-svg\">\n            <svg class=\"star-empty\"><use xlink:href=\"${spritePath}#star-empty\"></use></svg>\n            <svg class=\"star-half\"><use xlink:href=\"${spritePath}#star-half\"></use></svg>\n            <svg class=\"star-filled\"><use xlink:href=\"${spritePath}#star-filled\"></use></svg>\n          </div>\n        `).join('')}\n      </div>\n    </div>\n  `;\n}\n\n\n// === Create HTML Markup ===\n\nfunction createFeedbackMarkup(arr) {\n  return arr\n    .map(\n      ({ descr, name, rate }) => `\n      <div class=\"feedback-card swiper-slide\">\n        ${createStarRating(rate)}\n        <p class=\"feedback-text feedback-opinion\">\"${descr}\"</p>\n        <p class=\"feedback-text feedback-user\">${name}</p>\n      </div>\n    `\n    )\n    .join('');\n}\n\n// === Main Render Function ===\nasync function renderFeedback() {\n  showLoader();\n\n  try {\n    const data = await getFeedback();\n    const markup = createFeedbackMarkup(data.feedbacks);\n\n    feedbackContainer.insertAdjacentHTML('beforeend', markup);\n\n    // Ініціалізуємо swiper після рендеру\n\n    if (!swiper) {\n      swiper = new Swiper('.swiper', {\n        modules: [Pagination],\n        direction: 'horizontal',\n        loop: false,\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        pagination: {\n          el: '.swiper-pagination',\n          clickable: true,\n          type: 'bullets',\n        },\n        breakpoints: {\n          768: {\n            slidesPerView: 2,\n            slidesPerGroup: 1,\n          },\n          1440: {\n            slidesPerView: 3,\n            slidesPerGroup: 1,\n          },\n        },\n        on: {\n          slideChange: updateNavButtons,\n        },\n      });\n      updateNavButtons();\n    }\n\n    // Перевірка, щоб не дублювати слухачі\n\n    if (!eventsBound) {\n      leftButton.addEventListener('click', () => swiper.slidePrev());\n      rightButton.addEventListener('click', () => swiper.slideNext());\n      eventsBound = true;\n    }\n\n    navWrap.classList.remove('hidden');\n  } catch (error) {\n    onError('Failed to fetch data from API.');\n  } finally {\n    hideLoader();\n  }\n}\n\nrenderFeedback();\n"],"names":["burgerBtn","burgerMenu","closeBtn","scrollBtn","scrollBtnMob","toggleBurgerMenu","closeMenu","section","link","e","target","stylish","modern","sleek","queen","oak","set","kitchen","bright","home","entryway","contemporary","cozy","curated","spritePath","fetchFurnitureAndRenderModal","closeModal","allFurnitures","selectedFurniture","_a","openOrderForm","email","phone","comment","backdrop","firstFurniture","renderFurnitureDetails","renderColorFilters","error","createStarRatingSvg","rate","roundedRate","starsHtml","i","furniture","ratingEl","mainImage","thumbsContainer","imgUrl","index","img","container","color","label","checkedColors","input","filtered","item","c","furnitureData","loader","loadMoreBtn","categoriesContainer","furnitureList","showLoader","hideLoader","API_BASE","allProducts","visibleProducts","currentCategoryId","perPage","allCategories","fetchCategories","res","data","renderCategories","categories","categoryImg","allBtn","handleCategoryClick","category","btn","imgSrc","categoryId","showFilteredProducts","fetchProducts","page","allFetched","totalPages","p","loadNextBatch","filteredList","nextProducts","product","li","colorCircles","id","showModal","modal","orderForm","btnSend","modelId","COLOR","iziToast","openOrderFormWithModel","clearAllErrors","closeOrderModal","emailInput","phoneInput","commentInput","isEmailValid","phoneClean","isPhoneValid","hasError","showError","requestBody","submitBtn","response","errorData","result","err","message","clearError","Accordion","feedbackContainer","leftButton","rightButton","navWrap","swiper","eventsBound","getFeedback","FEEDBACK_URL","PARAMS","axios","onError","updateNavButtons","isFirst","isLast","createStarRating","valueClass","halfClass","createFeedbackMarkup","arr","descr","name","renderFeedback","markup","Swiper","Pagination"],"mappings":"sxBACA,MAAMA,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAW,SAAS,cAAc,gBAAgB,EAClDC,GAAY,SAAS,eAAe,WAAW,EAC/CC,GAAe,SAAS,eAAe,cAAc,EAG3DJ,EAAU,iBAAiB,QAASK,EAAgB,EAGpDH,EAAS,iBAAiB,QAASI,CAAS,EAG5C,SAAS,iBAAiB,UAAW,GAAK,CACpC,EAAE,MAAQ,UAAUA,EAAS,CACnC,CAAC,EAGD,SAAS,iBAAiB,QAAS,GAAK,CAClC,CAACL,EAAW,SAAS,EAAE,MAAM,GAAK,CAACD,EAAU,SAAS,EAAE,MAAM,GAChEM,GAEJ,CAAC,EAGD,SAASD,IAAmB,CAC1BJ,EAAW,UAAU,OAAO,QAAQ,EACpCA,EAAW,UAAU,OAAO,QAAQ,EACpC,SAAS,KAAK,UAAU,OAAO,aAAa,CAC9C,CAGA,SAASK,GAAY,CACnBL,EAAW,UAAU,OAAO,QAAQ,EACpCA,EAAW,UAAU,IAAI,QAAQ,EACjC,SAAS,KAAK,UAAU,OAAO,aAAa,CAC9C,CAGAE,GAAU,iBAAiB,QAAS,IAAM,CACxC,MAAMI,EAAU,SAAS,eAAe,WAAW,EAC/CA,IACFA,EAAQ,eAAe,CAAE,SAAU,QAAU,CAAA,EAC7CD,IAEJ,CAAC,EACDF,GAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMG,EAAU,SAAS,eAAe,WAAW,EAC/CA,IACFA,EAAQ,eAAe,CAAE,SAAU,QAAU,CAAA,EAC7CD,IAEJ,CAAC,EAGD,SAAS,iBAAiB,cAAc,EAAE,QAAQE,GAAQ,CACxDA,EAAK,iBAAiB,QAASC,GAAK,CAClCA,EAAE,eAAc,EAChB,MAAMC,EAAS,SAAS,cAAcF,EAAK,aAAa,MAAM,CAAC,EAC3DE,IACFA,EAAO,eAAe,CAAE,SAAU,QAAU,CAAA,EAC5CJ,IAEN,CAAG,CACH,CAAC,EAEDN,EAAU,iBAAiB,QAAS,IAAM,CACxCC,EAAW,UAAU,OAAO,QAAQ,CACtC,CAAC,EAEDC,EAAS,iBAAiB,QAAS,IAAM,CACvCD,EAAW,UAAU,IAAI,QAAQ,CACnC,CAAC,ECzED,MAAeU,GAAA,4CCAAC,GAAA,2CCAAC,GAAA,0CCAAC,GAAA,0CCAAC,GAAA,wCCAAC,GAAA,wCCAAC,GAAA,4CCAAC,GAAA,2CCAAC,GAAA,yCCAAC,GAAA,6CCAAC,GAAA,iDCAAC,GAAA,yCCAAC,GAAA,4CCAAC,EAAA,2CCmBf,OAAO,iBAAiB,OAAQ,IAAM,CACpCC,KACA,MAAMvB,EAAW,SAAS,cAAc,YAAY,EAChDA,GACFA,EAAS,iBAAiB,QAASwB,CAAU,CAEjD,CAAC,EAQD,IAAIC,EAAgB,CAAA,EAChBC,EAAoB,KAGjB,SAASF,GAAa,CAG3B,SAAS,eAAe,OAAO,EAAE,UAAU,IAAI,WAAW,EAC1D,SAAS,KAAK,UAAU,OAAO,YAAY,CAG7C,QAMAG,EAAA,SAAS,cAAc,YAAY,IAAnC,MAAAA,EAAsC,iBAAiB,QAASC,IAEhE,SAASA,IAAgB,OACvB,IAAIC,EAAQ,SAAS,cAAc,gBAAgB,EAAE,MACjDC,EAAQ,SAAS,cAAc,cAAc,EAAE,MAC/CC,EAAU,SAAS,cAAc,kBAAkB,EAAE,MACzDP,IACA,MAAMQ,EAAW,SAAS,eAAe,oBAAoB,EACzDA,GACFA,EAAS,UAAU,OAAO,WAAW,EACrC,SAAS,KAAK,UAAU,IAAI,YAAY,GAExC,QAAQ,KAAK,kDAAkD,EAI1DF,EAAM,QAAQ,MAAO,EAAE,EACrBJ,GAAA,MAAAA,EAAmB,KACrBC,EAAAD,GAAA,YAAAA,EAAmB,QAAnB,MAAAC,EAA2B,EAIpC,CAGA,eAAeJ,IAA+B,CAC5C,GAAI,CAGFE,GADa,MADI,MAAM,MAAM,qDAAqD,GACtD,QACP,WAErB,MAAMQ,EAAiBR,EAAc,CAAC,EACtCS,EAAuBD,CAAc,EACrCE,EAAmBF,CAAc,CAElC,OAAQG,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,CACrD,CACH,CAuCA,SAASC,GAAoBC,EAAM,CAEjC,MAAMC,EAAc,KAAK,MAAMD,EAAO,CAAC,EAAI,EAE3C,IAAIE,EAAY,GAEhB,QAASC,EAAI,EAAGA,GAAK,EAAUA,IACzBF,GAAeE,EACjBD,GAAa;AAAA;AAAA,sDAEmClB,CAAU;AAAA,gBAEjDiB,EAAc,KAAQE,EAC/BD,GAAa;AAAA;AAAA,oDAEiClB,CAAU;AAAA,gBAGxDkB,GAAa;AAAA;AAAA,qDAEkClB,CAAU;AAAA,gBAK7D,MAAO;AAAA;AAAA;AAAA,UAGCkB,CAAS;AAAA;AAAA;AAAA,GAInB,CAGO,SAASN,EAAuBQ,EAAW,CAChD,SAAS,cAAc,YAAY,EAAE,QAAQ,GAAKA,EAAU,GAC5D,SAAS,cAAc,aAAa,EAAE,YAAcA,EAAU,KAC9D,SAAS,cAAc,aAAa,EAAE,UAAU,IAAI,gBAAgB,EAEpE,SAAS,cAAc,WAAW,EAAE,YAAcA,EAAU,KAC5D,SAAS,cAAc,WAAW,EAAE,UAAU,IAAI,gBAAgB,EAElE,SAAS,cAAc,cAAc,EAAE,YAAc,GAAGA,EAAU,KAAK,OACvE,SAAS,cAAc,cAAc,EAAE,UAAU,IAAI,aAAa,EAWlE,MAAMC,EAAW,SAAS,cAAc,eAAe,EACrDA,IACFA,EAAS,UAAYN,GAAoBK,EAAU,IAAI,GAIvD,SAAS,cAAc,eAAe,EAAE,UAAU,IAAI,cAAc,EAEpE,SAAS,cAAc,cAAc,EAAE,YAAcA,EAAU,YAC/D,SAAS,cAAc,cAAc,EAAE,UAAU,IAAI,mBAAmB,EAExE,SAAS,cAAc,aAAa,EAAE,YAAc,YAAYA,EAAU,KAAK,GAC/E,SAAS,cAAc,aAAa,EAAE,UAAU,IAAI,kBAAkB,EAGtE,MAAME,EAAY,SAAS,cAAc,aAAa,EAClD,MAAM,QAAQF,EAAU,MAAM,GAAKA,EAAU,OAAO,OAAS,GACjEE,EAAU,IAAMF,EAAU,OAAO,CAAC,EAClCE,EAAU,IAAMF,EAAU,OAE1BE,EAAU,IAAM,cAChBA,EAAU,IAAM,yBAMhB,MAAMC,EAAkB,SAAS,cAAc,SAAS,EACxDA,EAAgB,UAAY,GAExB,MAAM,QAAQH,EAAU,MAAM,GAAKA,EAAU,OAAO,OAAS,GACjEA,EAAU,OAAO,MAAM,CAAC,EAAE,QAAQ,CAACI,EAAQC,IAAU,CACnD,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMF,EACVE,EAAI,IAAM,GAAGN,EAAU,IAAI,SAASK,EAAQ,CAAC,GAC7CC,EAAI,UAAU,IAAI,aAAa,EAC/BH,EAAgB,YAAYG,CAAG,CACnC,CAAG,GAGG,CAAC,MAAM,QAAQN,EAAU,MAAM,GAAKA,EAAU,OAAO,SAAW,KACpEE,EAAU,IAAM,cAChBA,EAAU,IAAM,yBAWhBT,EAAmBO,CAAS,EAC5BhB,EAAoBgB,CAEtB,CAEA,SAASP,EAAmBO,EAAW,CACrC,MAAMO,EAAY,SAAS,eAAe,eAAe,EACzDA,EAAU,UAAY,GAEpB,MAAM,QAAQP,EAAU,KAAK,EAC/BA,EAAU,MAAM,QAAQQ,GAAS,CAC/B,MAAMC,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,UAAY;AAAA,sCACgBD,CAAK;AAAA,qDACUA,CAAK;AAAA,MAEtDD,EAAU,YAAYE,CAAK,CAC/B,CAAG,EAED,QAAQ,KAAK,wCAAyCT,CAAS,CAWjE,CAEA,OAAO,cAAgB,UAAW,CAChC,MAAMU,EAAgB,MAAM,KAAK,SAAS,iBAAiB,8BAA8B,CAAC,EACvF,IAAIC,GAASA,EAAM,KAAK,EAE3B,GAAID,EAAc,SAAW,EAAG,CAC9BlB,EAAuBT,EAAc,CAAC,CAAC,EACvC,MACD,CAED,MAAM6B,EAAW7B,EAAc,KAAK8B,GAClCA,EAAK,MAAM,KAAKC,GAAKJ,EAAc,SAASI,CAAC,CAAC,CAClD,EAEMF,EACFpB,EAAuBoB,CAAQ,EAE/B,MAAM,+BAA+B,CAEzC,EC7QA,IAAIG,EAAgB,CAAA,EACpB,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAsB,SAAS,cAAc,oBAAoB,EACjEC,EAAgB,SAAS,cAAc,iBAAiB,EAC9D,SAASC,GAAa,CAClBJ,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAY,UAAU,IAAI,QAAQ,EAClCA,EAAY,SAAW,EAC3B,CAEA,SAASI,GAAa,CAClBL,EAAO,UAAU,IAAI,QAAQ,EAC7BC,EAAY,UAAU,OAAO,QAAQ,EACrCA,EAAY,SAAW,EAC3B,CACA,MAAMK,EAAW,2CACjB,IAAIC,EAAc,CAAA,EACdC,EAAkB,CAAA,EAClBC,EAAoB,KACpBC,GAAU,EACVC,GAAgB,CAAA,EACpB,eAAeC,IAAkB,CAC/B,GAAI,CACFR,IACA,MAAMS,EAAM,MAAM,MAAM,GAAGP,CAAQ,aAAa,EAChD,GAAI,CAACO,EAAI,GAAI,MAAM,IAAI,MAAM,uBAAuBA,EAAI,MAAM,EAAE,EAChE,MAAMC,EAAO,MAAMD,EAAI,OACvBF,GAAgBG,EAChBC,GAAiBD,CAAI,CACtB,OAAQpC,EAAO,CACd,QAAQ,MAAM,iCAAkCA,CAAK,CACzD,QAAY,CACR2B,GACD,CACH,CACA,SAASU,GAAiBC,EAAY,CACpCd,EAAoB,UAAY,GAChC,MAAMe,EAAc,CACpB,aAAclE,GACd,cAAeC,GACf,6BAA8BC,GAC9B,mBAAoBC,GACpB,MAASC,GACT,sBAAuBC,GACvB,MAASC,GACT,oBAAqBC,GACrB,kBAAmBC,GACnB,uBAAwBC,GACxB,2BAA4BC,GAC5B,0BAA2BC,GAC3B,qBAAsBC,EACxB,EACQuD,EAAS,SAAS,cAAc,IAAI,EAC1CA,EAAO,UAAU,IAAI,iBAAiB,EACtCA,EAAO,QAAQ,WAAa,GAC5BA,EAAO,UAAY;AAAA,gBACLD,EAAY,YAAY,CAAC;AAAA;AAAA,IAGvCC,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,iBAAiB,QAAS,IAAMC,EAAoB,EAAE,CAAC,EAC9DjB,EAAoB,YAAYgB,CAAM,EACtCF,EAAW,QAAQI,GAAY,CAC/B,MAAMC,EAAM,SAAS,cAAc,IAAI,EACvCA,EAAI,UAAU,IAAI,iBAAiB,EACnCA,EAAI,QAAQ,WAAaD,EAAS,IAClC,MAAME,EAASL,EAAYG,EAAS,IAAI,EACxCC,EAAI,UAAY;AAAA,gBACFC,CAAM,UAAUF,EAAS,IAAI;AAAA,YACjCA,EAAS,IAAI;AAAA,IAEvBC,EAAI,iBAAiB,QAAS,IAAMF,EAAoBC,EAAS,GAAG,CAAC,EACrElB,EAAoB,YAAYmB,CAAG,CACrC,CAAC,CACD,CACA,SAASF,EAAoBI,EAAY,CACvCd,EAAoBc,GAAc,KAClCf,EAAkB,CAAA,EACFN,EAAoB,iBAAiB,IAAI,EACjD,QAAQmB,GAAO,CACjBA,EAAI,QAAQ,aAAe,OAAOE,CAAU,EAC9CF,EAAI,UAAU,IAAI,QAAQ,EAE1BA,EAAI,UAAU,OAAO,QAAQ,CAEnC,CAAG,EACCjB,IACA,WAAW,IAAM,CACjBoB,IACAnB,GACJ,EAAG,GAAG,CACN,CACA,eAAeoB,IAAgB,CAC7B,GAAI,CACFrB,IACA,MAAMM,EAAU,GAChB,IAAIgB,EAAO,EACPC,EAAa,CAAA,EACbC,EAAa,EACjB,EAAG,CAED,MAAMd,EAAO,MADD,MAAM,MAAM,GAAGR,CAAQ,oBAAoBoB,CAAI,UAAUhB,CAAO,EAAE,GACvD,OACvB,GAAI,CAAC,MAAM,QAAQI,EAAK,UAAU,EAAG,MAAM,IAAI,MAAM,2BAA2B,EAChFa,EAAaA,EAAW,OAAOb,EAAK,UAAU,EAC1CY,IAAS,GAAKZ,EAAK,QACrBc,EAAa,KAAK,KAAKd,EAAK,MAAQJ,CAAO,GAE7CgB,GACN,OAAaA,GAAQE,GACjBrB,EAAcoB,EACdH,GACD,OAAQ9C,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,CACxD,QAAY,CACR2B,GACD,CACH,CACA,SAASmB,GAAuB,CAG9B,GAFArB,EAAc,UAAY,GAC1BK,EAAkB,CAAA,EACd,CAAC,MAAM,QAAQD,CAAW,EAAG,CAC/B,QAAQ,MAAM,qBAAsBA,CAAW,EAC/CJ,EAAc,UAAY,uBAC1BF,EAAY,MAAM,QAAU,OAC5B,MACD,CACD,MAAML,EAAWa,EACbF,EAAY,OAAOsB,GAAC,OAAI,eAAO5D,EAAA4D,EAAE,WAAF,YAAA5D,EAAY,GAAG,IAAM,OAAOwC,CAAiB,EAAC,EAC7EF,EACJ,GAAIX,EAAS,SAAW,EAAG,CACzBO,EAAc,UAAY,sBAC1BF,EAAY,MAAM,QAAU,OAC5B,MACD,CACDA,EAAY,MAAM,QAAU,QAC5B6B,EAAclC,CAAQ,CACxB,CACA,SAASkC,EAAcC,EAAc,CACjC,MAAMC,EAAeD,EAAa,MAAMvB,EAAgB,OAAQA,EAAgB,OAASE,EAAO,EAChGF,EAAkBA,EAAgB,OAAOwB,CAAY,EACrDA,EAAa,QAAQC,GAAW,CAC5B,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,gBAAgB,EACnC,MAAMC,GAAgBF,EAAQ,OAAS,CAAA,GAAI,IAAIzC,GAAS;AAAA,uDACPA,CAAK,YAAY,EAAE,KAAK,EAAE,EACzE0C,EAAG,UAAY;AAAA,wBACCD,EAAQ,OAAO,CAAC,CAAC,UAAUA,EAAQ,IAAI;AAAA;AAAA,oCAE3BA,EAAQ,IAAI;AAAA;AAAA,sBAE1BE,CAAY;AAAA;AAAA,mCAECF,EAAQ,KAAK;AAAA,uDACOA,EAAQ,GAAG;AAAA;AAAA,UAI5D9B,EAAc,YAAY+B,CAAE,EAC5BnC,EAAc,KAAK,CACjB,GAAIkC,EAAQ,IACZ,KAAMA,EAAQ,KACd,MAAOA,EAAQ,MACf,MAAOA,EAAQ,OAAS,WACxB,MAAOA,EAAQ,OAAS,CAAE,EAC1B,OAAQ,MAAM,QAAQA,EAAQ,MAAM,EAAIA,EAAQ,OAAS,CAAA,EACzD,YAAaA,EAAQ,aAAe,mBACpC,KAAMA,EAAQ,MAAQ,EACtB,KAAMA,EAAQ,MAAQ,eAE9B,CAAC,CAED,CAAK,EACGzB,EAAgB,QAAUuB,EAAa,SACvC9B,EAAY,MAAM,QAAU,OAEpC,CACAA,EAAY,iBAAiB,QAAS,IAAM,CACxCG,IAEA,WAAW,IAAM,CACnB,MAAMR,EAAWa,EACbF,EAAY,OAAOsB,GAAC,OAAI,QAAA5D,EAAA4D,EAAE,WAAF,YAAA5D,EAAY,OAAQwC,EAAiB,EAC7DF,EACFuB,EAAclC,CAAQ,EACtBS,GACJ,EAAG,GAAG,CACN,CAAC,EACDF,EAAc,iBAAiB,QAAS,MAAO,GAAM,CACjD,GAAI,EAAE,OAAO,UAAU,SAAS,aAAa,EAAG,CAC5C,MAAMiC,EAAK,EAAE,OAAO,QAAQ,GAC5B,GAAI,CACAhC,IAIF,MAAM6B,EAAUlC,EAAc,KAAKF,GAAQA,EAAK,KAAOuC,CAAE,EACvDH,EACCI,GAAUJ,CAAO,EAEhB,QAAQ,KAAK,uCAAuC,CAEzD,OAAQvD,EAAO,CACZ,QAAQ,MAAM,sCAAuCA,CAAK,CACtE,QAAkB,CACN2B,GACH,CACJ,CACL,CAAC,EACD,SAASgC,GAAUJ,EAAS,CAI1BzD,EAAuByD,CAAO,EAG9B,MAAMK,EAAQ,SAAS,eAAe,OAAO,EAC7CA,EAAM,UAAU,OAAO,WAAW,EAClC,SAAS,KAAK,UAAU,IAAI,YAAY,EAGxCA,EAAM,iBAAiB,QAAUzF,GAAM,CACjCA,EAAE,SAAWyF,IACfxE,IACAwE,EAAM,UAAU,IAAI,WAAW,EAErC,CAAG,EAGgBA,EAAM,cAAc,YAAY,EACxC,iBAAiB,QAAS,IAAM,CACvCxE,IACAwE,EAAM,UAAU,IAAI,WAAW,CACnC,CAAG,CACH,CAEA1B,KACAa,GAAe,ECzPf,MAAMnD,EAAW,SAAS,eAAe,oBAAoB,EACvDhC,GAAW,SAAS,eAAe,oBAAoB,EACvDiG,EAAY,SAAS,eAAe,WAAW,EAC/CC,EAAU,SAAS,cAAc,aAAa,EAEpD,IAAIC,EAAU,KACd,MAAMC,GAAQ,UAER1C,EAAS,SAAS,eAAe,QAAQ,EAG/C,SAAS,iBAAiB,YAAY,EAAE,QAAQqB,GAAO,CACrDA,EAAI,iBAAiB,QAAS,IAAM,CAGlC,MAAMe,EAAKf,EAAI,QAAQ,GACvB,GAAI,CAACe,EAAI,CACPO,EAAS,MAAM,CACb,MAAO,UACP,QAAS,yBACT,SAAU,UAClB,CAAO,EACD,MACD,CACDC,GAAuBR,CAAE,CAC7B,CAAG,CACH,CAAC,EAGD,SAASQ,GAAuBR,EAAI,CAClCK,EAAU,OAAOL,CAAE,EACnB9D,EAAS,UAAU,OAAO,WAAW,EACrC,SAAS,KAAK,UAAU,IAAI,YAAY,EACxCiE,EAAU,MAAK,EACfM,IACAN,EAAU,SAAS,MAAM,OAC3B,CAGA,SAASO,GAAkB,CACzBxE,EAAS,UAAU,IAAI,WAAW,EAClC,SAAS,KAAK,UAAU,OAAO,YAAY,EAC3CiE,EAAU,MAAK,EACfM,GACF,CAEAvG,GAAS,iBAAiB,QAASwG,CAAe,EAGlDxE,EAAS,iBAAiB,QAAS,GAAK,CAClC,EAAE,SAAWA,GAAUwE,EAAe,CAC5C,CAAC,EAGD,SAAS,iBAAiB,UAAW,GAAK,CACpC,EAAE,MAAQ,UAAY,CAACxE,EAAS,UAAU,SAAS,WAAW,GAChEwE,GAEJ,CAAC,EAED,SAAS1C,IAAa,CACpBoC,EAAQ,SAAW,GACnBxC,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEA,SAASK,GAAa,CACpBmC,EAAQ,SAAW,GACnBxC,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAGAuC,EAAU,iBAAiB,SAAU,MAAM,GAAK,CAC9C,EAAE,eAAc,EAEhB,MAAMQ,EAAaR,EAAU,SAAS,MAChCS,EAAaT,EAAU,SAAS,IAChCU,EAAeV,EAAU,SAAS,QAElCpE,EAAQ4E,EAAW,MAAM,KAAI,EAC7B3E,EAAQ4E,EAAW,MAAM,KAAI,EAC7B3E,EAAU4E,EAAa,MAAM,KAAI,EACjCC,EAAe,6BAA6B,KAAK/E,CAAK,EACtDgF,EAAa/E,EAAM,QAAQ,MAAO,EAAE,EACpCgF,EAAe,aAAa,KAAKD,CAAU,EACjDN,IAEA,IAAIQ,EAAW,GAoBf,GAlBKlF,EAIO+E,IACVI,EAAUP,EAAY,yBAAyB,EAC/CM,EAAW,KAJXC,EAAUP,EAAY,wBAAwB,EAC9CM,EAAW,IAMRjF,EAIEgF,IACHE,EAAUN,EAAY,kEAAkE,EACxFK,EAAW,KALbC,EAAUN,EAAY,0BAA0B,EAChDK,EAAW,IAOT,CAACZ,GAAWA,IAAY,QAAUA,EAAQ,KAAM,IAAK,GAAI,CAC3DE,EAAS,MAAM,CACb,MAAO,UACP,QAAS,mCACT,SAAU,UAChB,CAAK,EACDtC,IACA,MACD,CAED,GAAIgD,EAAU,CACZV,EAAS,MAAM,CACb,MAAO,UACP,QAAS,kCACT,SAAU,UAChB,CAAK,EACD,MACD,CAID,MAAMY,GAAc,CAClB,MAAApF,EACA,MAAOgF,EACP,QAAS,OAAOV,CAAO,EACvB,MAAOC,GACP,QAASrE,GAAW,OACxB,EAEQmF,EAAYjB,EAAU,cAAc,uBAAuB,EACjEiB,EAAU,SAAW,GACrBA,EAAU,YAAc,gBACxBA,EAAU,MAAM,OAAS,OAEzB,GAAI,CACF,GAAIN,GAAgBE,EAAc,CAChChD,KACA,MAAMqD,EAAW,MAAM,MAAM,kDAAmD,CAC9E,OAAQ,OACR,QAAS,CACP,eAAgB,kBACjB,EACD,KAAM,KAAK,UAAUF,EAAW,CACxC,CAAO,EAED,GAAI,CAACE,EAAS,GAAI,CAChB,MAAMC,GAAY,MAAMD,EAAS,OACjC,MAAM,IAAI,MAAMC,GAAU,SAAW,6BAA6B,CACnE,CACD,MAAMC,GAAS,MAAMF,EAAS,OAE9Bd,EAAS,QAAQ,CACf,MAAO,SACP,QAAS,4BACT,SAAU,UAClB,CAAO,EAEDG,GACD,CACF,OAAQc,EAAK,CACZjB,EAAS,MAAM,CACb,MAAO,UACP,QAASiB,EAAI,QACb,SAAU,UAChB,CAAK,CACL,QAAY,CACRvD,IACAmD,EAAU,SAAW,GACrBA,EAAU,YAAc,mBACxBA,EAAU,MAAM,OAAS,SAC1B,CACH,CAAC,EAGD,SAASF,EAAU3D,EAAOkE,EAAS,CACjClE,EAAM,UAAU,IAAI,aAAa,EAEjC,IAAIjB,EAAQiB,EAAM,mBAClB,GAAIjB,GAASA,EAAM,UAAU,SAAS,eAAe,EAAG,CACtDA,EAAM,YAAcmF,EACpB,MACD,CAEDnF,EAAQ,SAAS,cAAc,KAAK,EACpCA,EAAM,UAAY,gBAClBA,EAAM,YAAcmF,EACpBlE,EAAM,sBAAsB,WAAYjB,CAAK,CAC/C,CAEA,SAASoF,EAAWnE,EAAO,CACzBA,EAAM,UAAU,OAAO,aAAa,EAEpC,MAAMjB,EAAQiB,EAAM,mBAChBjB,GAASA,EAAM,UAAU,SAAS,eAAe,GACnDA,EAAM,OAAM,CAEhB,CAEA,SAASmE,GAAiB,CACxBiB,EAAWvB,EAAU,SAAS,KAAK,EACnCuB,EAAWvB,EAAU,SAAS,GAAG,CACnC,CC/MA,IAAIwB,GAAU,uBAAwB,CACnC,SAAU,IACX,aAAc,aACd,WAAY,WACZ,YAAa,YACb,aAAc,EAChB,CAAC,ECKD,MAAMC,GAAoB,SAAS,cAAc,gBAAgB,EAC3DhE,EAAS,SAAS,cAAc,SAAS,EACzCiE,EAAa,SAAS,cAAc,oBAAoB,EACxDC,GAAc,SAAS,cAAc,qBAAqB,EAC1DC,GAAU,SAAS,cAAc,+BAA+B,EAGtE,IAAIC,EACAC,EAAc,GAGlB,eAAeC,IAAc,CAC3B,MAAMC,EAAe,qDACfC,EAAS,IAAI,gBAAgB,CACjC,KAAM,EACN,MAAO,EACX,CAAG,EAED,OADY,MAAMC,GAAM,GAAGF,CAAY,IAAIC,CAAM,EAAE,GACxC,IACb,CAGA,SAASpE,IAAa,CACpBJ,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEA,SAASK,IAAa,CACpBL,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEA,SAAS0E,GAAQb,EAAS,CACxBlB,EAAS,MAAM,CACb,QAASkB,EACT,gBAAiB,UACjB,aAAc,OACd,SAAU,UACd,CAAG,CACH,CAEA,SAASc,GAAmB,CAC1B,MAAMC,EAAUR,EAAO,YACjBS,EAAST,EAAO,MAEtBH,EAAW,SAAWW,EACtBV,GAAY,SAAWW,CACzB,CAKA,SAASC,GAAiBlG,EAAM,CAC9B,MAAMC,EAAc,KAAK,MAAMD,EAAO,CAAC,EAAI,EACrCmG,EAAa,SAAS,KAAK,MAAMlG,CAAW,CAAC,GAC7CmG,EAAYnG,EAAc,IAAM,EAAI,OAAS,GAEnD,MAAO;AAAA,oDAC2CkG,CAAU,IAAIC,CAAS;AAAA;AAAA,UAEjE,CAAC,GAAG,MAAM,CAAC,CAAC,EAAE,IAAI,IAAM;AAAA;AAAA,uDAEqBpH,CAAU;AAAA,sDACXA,CAAU;AAAA,wDACRA,CAAU;AAAA;AAAA,SAEzD,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA,GAInB,CAKA,SAASqH,GAAqBC,EAAK,CACjC,OAAOA,EACJ,IACC,CAAC,CAAE,MAAAC,EAAO,KAAAC,EAAM,KAAAxG,CAAM,IAAK;AAAA;AAAA,UAEvBkG,GAAiBlG,CAAI,CAAC;AAAA,qDACqBuG,CAAK;AAAA,iDACTC,CAAI;AAAA;AAAA,KAGhD,EACA,KAAK,EAAE,CACZ,CAGA,eAAeC,IAAiB,CAC9BjF,KAEA,GAAI,CACF,MAAMU,EAAO,MAAMwD,KACbgB,EAASL,GAAqBnE,EAAK,SAAS,EAElDkD,GAAkB,mBAAmB,YAAasB,CAAM,EAInDlB,IACHA,EAAS,IAAImB,GAAO,UAAW,CAC7B,QAAS,CAACC,EAAU,EACpB,UAAW,aACX,KAAM,GACN,cAAe,EACf,eAAgB,EAChB,WAAY,CACV,GAAI,qBACJ,UAAW,GACX,KAAM,SACP,EACD,YAAa,CACX,IAAK,CACH,cAAe,EACf,eAAgB,CACjB,EACD,KAAM,CACJ,cAAe,EACf,eAAgB,CACjB,CACF,EACD,GAAI,CACF,YAAab,CACd,CACT,CAAO,EACDA,KAKGN,IACHJ,EAAW,iBAAiB,QAAS,IAAMG,EAAO,UAAW,CAAA,EAC7DF,GAAY,iBAAiB,QAAS,IAAME,EAAO,UAAW,CAAA,EAC9DC,EAAc,IAGhBF,GAAQ,UAAU,OAAO,QAAQ,CAClC,MAAe,CACdO,GAAQ,gCAAgC,CAC5C,QAAY,CACRrE,IACD,CACH,CAEAgF,GAAgB"}