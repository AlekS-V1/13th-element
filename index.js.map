{"version":3,"file":"index.js","sources":["../src/js/order_modal.js","../src/js/faq_section.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'loaders.css/loaders.min.css';\n\nconst backdrop = document.getElementById('orderModalBackdrop');  // Фон модального вікна\nconst closeBtn = document.getElementById('orderModalCloseBtn');  // Кнопка закриття модалки\nconst orderForm = document.getElementById('orderForm');          // Форма замовлення\n\nlet modelId = null;              \nconst COLOR = '#1212ca';          \n\nconst loader = document.getElementById('loader'); // лоадер\n\n// Відкрити форму замовлення з id моделі\nfunction openOrderFormWithModel(id) {\n  modelId = id;                   \n\n  backdrop.classList.remove('is-hidden'); \n  document.body.classList.add('no-scroll'); \n  orderForm.reset();                      \n  clearAllErrors();                     \n  orderForm.elements.email.focus();     \n}\n\n// Закрити модальне вікно\nfunction closeOrderModal() {\n  backdrop.classList.add('is-hidden');    \n  document.body.classList.remove('no-scroll');  \n  orderForm.reset();                       \n  clearAllErrors();                       \n}\n\ncloseBtn.addEventListener('click', closeOrderModal);\n\n// Закриття модалки при кліку поза формою\nbackdrop.addEventListener('click', e => {\n  if (e.target === backdrop) closeOrderModal();\n});\n\n// Закриття модалки при натисканні Escape\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && !backdrop.classList.contains('is-hidden')) {\n    closeOrderModal();\n  }\n});\n\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\n// Обробка відправки форми\norderForm.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const emailInput = orderForm.elements.email;\n  const phoneInput = orderForm.elements.tel;\n  const commentInput = orderForm.elements.comment;\n\n  const email = emailInput.value.trim();\n  const phone = phoneInput.value.trim();\n  const comment = commentInput.value.trim();\n\n  clearAllErrors();\n\n  let hasError = false;\n\n  if (!email) {\n    showError(emailInput, 'Поле Email обов’язкове');\n    hasError = true;\n  }\n\n  if (!phone) {\n    showError(phoneInput, 'Поле Телефон обов’язкове');\n    hasError = true;\n  }\n\n  if (hasError) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Заповніть всі обов’язкові поля.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  showLoader();\n\n  const requestBody = {\n    email,\n    phone,\n    modelId,\n    color: COLOR,\n    comment,\n  };\n\n  const submitBtn = orderForm.querySelector('button[type=\"submit\"]');\n  submitBtn.disabled = true;\n  submitBtn.textContent = 'Надсилання...';\n  submitBtn.style.cursor = 'wait';\n\n  try {\n    const response = await fetch('https://furniture-store.b.goit.study/api/orders', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(requestBody),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || 'Не вдалося надіслати заявку');\n    }\n\n    iziToast.success({\n      title: 'Готово',\n      message: 'Заявка успішно надіслана!',\n      position: 'topRight',\n    });\n\n    closeOrderModal();\n  } catch (err) {\n    iziToast.error({\n      title: 'Помилка',\n      message: err.message,\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader();\n    submitBtn.disabled = false;\n    submitBtn.textContent = 'Надіслати заявку';\n    submitBtn.style.cursor = 'pointer';\n  }\n});\n\n// Показати помилку під полем\nfunction showError(input, message) {\n  input.classList.add('input-error');\n\n  let error = input.nextElementSibling;\n  if (error && error.classList.contains('error-message')) {\n    error.textContent = message;\n    return;\n  }\n\n  error = document.createElement('div');\n  error.className = 'error-message';\n  error.textContent = message;\n  input.insertAdjacentElement('afterend', error);\n}\n\nfunction clearError(input) {\n  input.classList.remove('input-error');\n\n  const error = input.nextElementSibling;\n  if (error && error.classList.contains('error-message')) {\n    error.remove();\n  }\n}\n\nfunction clearAllErrors() {\n  clearError(orderForm.elements.email);\n  clearError(orderForm.elements.tel);\n}\n","\nimport Accordion from \"accordion-js\";\n \n\nnew Accordion('.accordion-container', {\n   duration: 400,\n  triggerClass: 'ac-trigger',\n  panelClass: 'ac-panel',\n  activeClass: 'is-active',  \n  showMultiple: false,  \n});"],"names":["backdrop","closeBtn","orderForm","modelId","COLOR","loader","closeOrderModal","clearAllErrors","e","showLoader","hideLoader","emailInput","phoneInput","commentInput","email","phone","comment","hasError","showError","iziToast","requestBody","submitBtn","response","errorData","err","input","message","error","clearError","Accordion"],"mappings":"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"}