import{i as f,A as v}from"./assets/vendor-CYc3EYgO.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const d=document.getElementById("orderModalBackdrop"),b=document.getElementById("orderModalCloseBtn"),n=document.getElementById("orderForm");let w=null;const O="#1212ca",y=document.getElementById("loader");function m(){d.classList.add("is-hidden"),document.body.classList.remove("no-scroll"),n.reset(),h()}b.addEventListener("click",m);d.addEventListener("click",r=>{r.target===d&&m()});document.addEventListener("keydown",r=>{r.key==="Escape"&&!d.classList.contains("is-hidden")&&m()});function C(){y.classList.remove("hidden")}function B(){y.classList.add("hidden")}n.addEventListener("submit",async r=>{r.preventDefault();const o=n.elements.email,s=n.elements.tel,a=n.elements.comment,e=o.value.trim(),t=s.value.trim(),c=a.value.trim();h();let u=!1;if(e||(p(o,"Поле Email обов’язкове"),u=!0),t||(p(s,"Поле Телефон обов’язкове"),u=!0),u){f.error({title:"Помилка",message:"Заповніть всі обов’язкові поля.",position:"topRight"});return}C();const L={email:e,phone:t,modelId:w,color:O,comment:c},i=n.querySelector('button[type="submit"]');i.disabled=!0,i.textContent="Надсилання...",i.style.cursor="wait";try{const l=await fetch("https://furniture-store.b.goit.study/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!l.ok){const E=await l.json();throw new Error(E.message||"Не вдалося надіслати заявку")}f.success({title:"Готово",message:"Заявка успішно надіслана!",position:"topRight"}),m()}catch(l){f.error({title:"Помилка",message:l.message,position:"topRight"})}finally{B(),i.disabled=!1,i.textContent="Надіслати заявку",i.style.cursor="pointer"}});function p(r,o){r.classList.add("input-error");let s=r.nextElementSibling;if(s&&s.classList.contains("error-message")){s.textContent=o;return}s=document.createElement("div"),s.className="error-message",s.textContent=o,r.insertAdjacentElement("afterend",s)}function g(r){r.classList.remove("input-error");const o=r.nextElementSibling;o&&o.classList.contains("error-message")&&o.remove()}function h(){g(n.elements.email),g(n.elements.tel)}new v(".accordion-container",{duration:400,triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active",showMultiple:!1});
//# sourceMappingURL=index.js.map
